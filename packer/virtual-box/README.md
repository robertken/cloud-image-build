# HPCC Systems Platform Virtual Box Image
For creating a Virtual Box image with HPCC Systems Platform Community edition pre-installed.


### Install packer
https://www.packer.io/intro/getting-started/install.html#precompiled-binaries
Download the appropriate packer binary for your system.
Put packer in your PATH


### Download HPCC Systems Platform Files
Run the script that is included in [tools](/tools)

Linux [script](/tools/hpcc_file_downloader.sh):
```sh
./hpcc_file_downloader.sh
```

PowerShell [script](/tools/hpcc_file_downloader.sh):
```sh
./hpcc_file_downloader.ps1
```


### Virtual Box
You need to have Virtual Box installed on your machine: https://www.virtualbox.org/


### Validate .JSON
Packer does not need any client tools for building on AWS. First, validate the .json after adding the keys.
```sh
packer validate NAME.json
```

### Build the GPU enabled AMI
Next, build the AMI with the following:
```sh
packer build NAME.json
```

### Start and Connect to Your Instance
Create a Virtual Box instance using the newly created image. The image has the all the HPCC ports automatically opened when creating a new instance. 

SSH into your instance and start the HPCC System Platform with:
* username: ubuntu
* password: hpccdemo

```sh
sudo systemctl start hpccsystems-platform.target
```

From here you can access your HPCC System via port 8010.


### Known Issues:
After starting the HPCC System, the Landing Zone's directory can sometimes not be created, and can prevent files from being uploaded to the cluster. Fix this by simply manually creating the directory:
```sh
sudo mkdir /var/lib/HPCCSystems/mydropzone
```

If the VM building process fails, you might have to manually delete the temp Virtual-Box VM, where you set Virtual-Box to store VMs, and delete the output directory generated by this code.
